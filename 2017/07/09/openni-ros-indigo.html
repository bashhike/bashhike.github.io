<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      OpenNI on ROS Indigo &middot; disorder
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          disorder
        </a>
      </h1>
      <p class="lead">Ramblings from an engineer about random things?</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About me</a>
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/quotes/">Quotes</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      

    </nav>

    <p>&copy; 2021. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">OpenNI on ROS Indigo</h1>
  <span class="post-date"> 09 Jul 2017 </span>

  <p>This article lists down the steps to follow in order to setup OpenNI on ROS Indigo. After trying various versions of different libraries and settings, this is what ended up working for me. Note that this has only been tested in Ubuntu 14.04 64 bit with ROS Indigo and Microsoft Kinect 360. It is assumed that you already have <a href="http://wiki.ros.org/indigo/Installation/Ubuntu">ROS Indigo</a> installed.</p>

<p>First we have to install some peripheral Libraries:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>git-core cmake freeglut3-dev pkg-config build-essential libxmu-dev libxi-dev  libusb-1.0-0-dev openjdk-6-jdk doxygen graphviz mono-complete
</code></pre></div></div>

<h3 id="openni">OpenNI</h3>
<p>Download the OpenNI package</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> ~/kinect
<span class="nb">cd</span> ~/kinect
git clone https://github.com/OpenNI/OpenNI.git
</code></pre></div></div>

<p>Compile the package using the Redist-System:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>OpenNI/Platform/Linux/CreateRedist/
<span class="nb">chmod</span> +x RedistMaker
./RedistMaker
</code></pre></div></div>
<p>And install it:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>Final
<span class="nb">tar</span> <span class="nt">-xjf</span> OpenNI-Bin-Dev-Linux-x64-v1.5.7.10.tar.bz2
<span class="nb">cd </span>OpenNI-Bin-Dev-Linux-x64-v1.5.7.10
<span class="nb">sudo</span> ./install.sh
</code></pre></div></div>

<h3 id="sensorkinect">SensorKinect</h3>
<p>This part is similar to the installation of OpenNI package.</p>

<p>Download the package:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~kinect/
git clone git://github.com/ph4m/SensorKinect.git
</code></pre></div></div>
<p>Compile package using Redist-System:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>SensorKinect/Platform/Linux/CreateRedist/
<span class="nb">chmod</span> +x RedistMaker
./RedistMaker
</code></pre></div></div>
<p>Installation:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>Final
<span class="nb">tar</span> <span class="nt">-xjf</span> Sensor-Bin-Linux-x64-v5.1.2.1.tar.bz2
<span class="nb">cd </span>Sensor-Bin-Linux-x64-v5.1.2.1
<span class="nb">sudo</span> ./install.sh
</code></pre></div></div>

<h3 id="nite">NITE</h3>

<p>Please note that only the Versions NITE v1.5.2.21 and NITE v1.5.2.23 will work for you. Paste the nite-folder into your kinect-folder to keep track of your data:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~kinect/nite/
<span class="nb">tar</span> <span class="nt">-xjf</span> NITE-Bin-Dev-Linux-x64-v1.5.2.23.tar.bz2
<span class="nb">cd </span>NITE-Bin-Dev-Linux-x64-v1.5.2.23
<span class="nb">sudo</span> ./install.sh
</code></pre></div></div>

<p>Now that everything around ROS is installed, we should reboot the system:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>reboot
</code></pre></div></div>

<h3 id="ros-components">ROS Components</h3>

<p>After all peripheral Libraries have been installed, we can install the required ros-core-components for OpenNI-usage. But we have to delete one library before that because of some issues that will appear otherwise:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get remove libopenni-sensor-pointclouds0
</code></pre></div></div>

<p>Next is the installation of ROS-Kinect Driver:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-indigo-openni-launch
<span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-indigo-openni-camera
</code></pre></div></div>

<p>Finally we can install the openni_tracker to our usual workspace (e.g.catkin_ws):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~catkin_ws/src
git clone https://github.com/ros-drivers/openni_tracker.git 
<span class="nb">cd</span> ..
catkin_make
</code></pre></div></div>

<p>Now that the OpenNI tracker is installed, youâ€™ll be able to track skeleton of a person and view it in Rviz. Open up a bunch of terminals and run the following commands.</p>
<ul>
  <li><strong>Terminal 1</strong>: <code class="language-plaintext highlighter-rouge">roslaunch openni_launch openni.launch</code></li>
  <li><strong>Terminal 2</strong>: <code class="language-plaintext highlighter-rouge">roslaunch openni_tracker openni_tracker</code></li>
  <li><strong>Terminal 3</strong>: <code class="language-plaintext highlighter-rouge">rosrun rviz rviz</code></li>
</ul>

<p>To view the skeleton frame in Rviz, set the base link from <code class="language-plaintext highlighter-rouge">map</code> to <code class="language-plaintext highlighter-rouge">openni_depth_frame</code> and add a TF component.</p>


  <span>Tags: 
   
     
     <a href="/tag/openni"><nobr>openni</nobr>&nbsp;</a>
   
     
     <a href="/tag/ros"><nobr>ros</nobr>&nbsp;</a>
   
     
     <a href="/tag/ubuntu"><nobr>ubuntu</nobr>&nbsp;</a>
   
   </span>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2021/06/12/string-similarity-functions.html">
            String similarity functions, An overview
            <small>12 Jun 2021</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

<!--
  <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://bashhike-github.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

-->

    </div>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146583475-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'UA-146583475-1');
	</script>

  </body>
</html>
